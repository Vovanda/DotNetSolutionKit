{
  "$schema": "http://json.schemastore.org/template",
  "author": "Vladimir Savkin",
  "classifications": ["Microservice", "Solution"],
  "identity": "Sawking.DotNetSolutionKit",
  "name": "DotNet Solution Kit",
  "shortName": "DotNetSolutionKit",
  "preferNameDirectory": false,

  "symbols": {
    "NamespaceRoot": {
      "type": "parameter",
      "datatype": "text",
      "defaultValue": "MyCompany",
      "replaces": "NamespaceRoot",
      "fileRename": "NamespaceRoot",
      "description": "Root namespace token, usually the organization name"
    },
    "ProductName": {
      "type": "parameter",
      "datatype": "text",
      "defaultValue": "Product",
      "fileRename": "ProductName",
      "replaces": "ProductName",
      "description": "Product name"
    },
    "ServiceNameOrCustom": {
      "type": "parameter",
      "datatype": "text",
      "defaultValue": "Service",
      "replaces": "ServiceNameOrCustom",
      "fileRename": "ServiceNameOrCustom",
      "description": "Service name or custom (e.g. Domain.Service)"
    },
    "Minimal": {
      "type": "parameter",
      "datatype": "bool",
      "defaultValue": "true",
      "description": "true = only microservice; false = full multi-solution kit"
    }
  },

  "sources": [
    {
      "source": ".",
      "target": ".",
      "modifiers": [
        {
          "condition": "Minimal",
          "exclude": ["**/*"]
        },
        {
          "rename": {
            ".gitignore.template": ".gitignore"
          }
        },
        {
          "exclude": [
            ".git/**",
            ".idea/**",
            ".vs/**",
            "bin/**",
            "obj/**",
            ".template.config/**"
          ]
        }
      ]
    },
    {
      "source": "src/services",
      "target": "src/services",
      "modifiers": [
        {
          "condition": "(!Minimal)",
          "exclude": ["**/*"]
        },
        {
          "exclude": [
            ".idea/**",
            ".vs/**",
            "manual-add-projects.sh",
            "NamespaceRoot.ProductName.All.sln"
          ]
        }
      ]
    }
  ],

  "postActions": [
    {
      "condition": "true",
      "actionId": "D1F2E3C4-B5A6-7890-1234-56789ABCDEF0",
      "description": "After generating services, verify and add projects to All.sln",
      "manualInstructions": [
        { "text": "1. Navigate to services folder: cd ./src/services\n2. Run script: ./manual-add-projects.sh\n3. The script will check all service projects and add them to All.sln, skipping already added ones." }
      ]
    }
  ]
}
